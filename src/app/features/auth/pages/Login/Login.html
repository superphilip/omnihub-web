<div class="min-h-screen bg-gray-100 flex items-center justify-center p-4 font-sans">
  <div class="max-w-md w-full bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-100">

    <div class="h-40 bg-linear-to-r from-[#2B5797] to-[#46C392] flex items-center justify-center relative">
      <div class="bg-white p-4 rounded-2xl shadow-lg translate-y-4">
        <div class="flex flex-col items-center">
          <img src="logo/omnihub-logo.png" alt="OmniHub" class="w-full h-15 object-contain">
        </div>
      </div>
    </div>

    <div class="p-10 pt-16 bg-[#FBFCFE] flex flex-col items-center">
      <h2 class="text-3xl font-black text-[#2B5797] uppercase tracking-tight mb-1">Iniciar Sesión</h2>
      <div class="h-1 w-full bg-linear-to-r from-[#2B5797] to-[#46C392] rounded-full mb-3"></div>
      <p class="text-gray-400 text-[10px] font-bold uppercase tracking-[0.2em] mb-8">Accede a tu plataforma</p>

      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="w-full flex flex-col gap-5" autocomplete="off">

        @if (errors()['general']?.[0]) {
          <div class="alert alert-error shadow-sm text-white py-2 rounded-xl text-xs">
            <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-4 w-4" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
            <span>{{ errors()['general'][0] }}</span>
          </div>
        }

        <div class="w-full">
          <custom-input
            [label]="'Username'"
            type="text"
            [placeholder]="'Nombre de usuario'"
            [control]="controls().userName">
            <i class="fa-etch fa-solid fa-user"></i>
          </custom-input>
          @if (errors()['userName']?.[0]) {
            <span class="text-error text-[10px] mt-1 font-bold ml-1 uppercase italic">{{ errors()['userName'][0] }}</span>
          }
        </div>

        <div class="w-full">
          <custom-input
            [label]="'Password'"
            type="password"
            [placeholder]="'••••••••'"
            [control]="controls().password">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" class="w-4 h-4">
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/>
            </svg>
          </custom-input>
          @if (errors()['password']?.[0]) {
            <span class="text-error text-[10px] mt-1 font-bold ml-1 uppercase italic">{{ errors()['password'][0] }}</span>
          }
        </div>

        <div class="pt-6">
          <button type="submit"
            class="btn btn-block min-h-14 border-none text-white font-black uppercase text-sm tracking-[0.15em] rounded-2xl shadow-xl transition-all active:scale-95 bg-[#2B5797] hover:bg-[#1e3e6d] disabled:bg-gray-300"
            [disabled]="login.loginMutation.isPending()">

            @if (login.loginMutation.isPending()) {
              <span class="loading loading-spinner loading-md"></span>
              <span class="ml-2">Verificando...</span>
            } @else {
              <span>Ingresar</span>
            }
          </button>
        </div>

        <div class="text-center mt-2">
          <a class="text-[11px] font-extrabold text-[#2B5797] hover:text-[#46C392] transition-colors cursor-pointer uppercase tracking-tight underline underline-offset-4 decoration-2 decoration-[#46C392]/30">
            ¿Olvidaste tu contraseña?
          </a>
        </div>
      </form>
    </div>
  </div>
  <custom-toast></custom-toast>
</div>
